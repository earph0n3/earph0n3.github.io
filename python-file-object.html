<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2024-10-14T14:13:55.167618843"><title>文件对象 |  earph0n3's doc</title><script type="application/json" id="virtual-toc-data">[{"id":"f-read","level":0,"title":"f.read()","anchor":"#f-read"},{"id":"f-readline","level":0,"title":"f.readline()","anchor":"#f-readline"},{"id":"f-readlines","level":0,"title":"f.readlines()","anchor":"#f-readlines"},{"id":"f-write","level":0,"title":"f.write()","anchor":"#f-write"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b419/app.css" rel="stylesheet"><link href="static/custom.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="文件对象 |  earph0n3's doc"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content=" earph0n3's doc Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/python-file-object.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="文件对象 |  earph0n3's doc"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/python-file-object.html#webpage",
    "url": "writerside-documentation/python-file-object.html",
    "name": "文件对象 |  earph0n3's doc",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": " earph0n3's doc Help"
}</script><!-- End Schema.org --></head><body data-id="python-file-object" data-main-title="文件对象" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="python.md|Python///python-basic.md|python基础///python-file-op.md|文件操作"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3> earph0n3's doc  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="python-file-object" id="python-file-object.md">文件对象</h1><p id="-i17gp5_3">使用 <code class="code" id="-i17gp5_11">open()</code> 方法打开文件后返回的就是一个file对象, file对象是一个可迭代对象, 也就是可以使用循环对其进行遍历</p><div class="code-block" data-lang="python">
with open(&quot;test.txt&quot;, 'rb') as f:
    for i in f:
        print(i)
</div><p id="-i17gp5_5">这里使用for循环对文件对象f进行迭代, 能够输出文件 <code class="code" id="-i17gp5_12">test.txt</code> 的所有内容, 这里的 <code class="code" id="-i17gp5_13">i</code> 代表每一行的内容</p><p id="-i17gp5_6">除此之外, file对象还有很多方法, 常用的有:</p><section class="chapter"><h2 id="f-read" data-toc="f-read">f.read()</h2><p id="-i17gp5_14">使用<code class="code" id="-i17gp5_17">f.read()</code>方法来读取文件对象f的内容,其返回值为文件中的内容</p><div class="code-block" data-lang="python">
with open(&quot;text.txt&quot;, 'rb') as f:
    content = f.read()
</div><p id="-i17gp5_16">这里的 <code class="code" id="-i17gp5_18">content</code> 就是 <code class="code" id="-i17gp5_19">text.txt</code> 中的内容了</p></section><section class="chapter"><h2 id="f-readline" data-toc="f-readline">f.readline()</h2><p id="-i17gp5_20">使用 <code class="code" id="-i17gp5_24">f.readline()</code> 方法来读取文件的单行内容</p><div class="code-block" data-lang="python">
with open(&quot;test.txt&quot;, 'rb') as f:
    line = f.readline()
</div><p id="-i17gp5_22">这里的 <code class="code" id="-i17gp5_25">line</code> 就是文件 <code class="code" id="-i17gp5_26">text.txt</code> 的第一行内容</p><aside class="prompt" data-type="tip" data-title="" id="-i17gp5_23"><p id="-i17gp5_27">需要注意的是对同一个 <code class="code" id="-i17gp5_31">f</code> ,每次 <code class="code" id="-i17gp5_32">readline</code> 之后, 文件指针会移到下一行, 也就是第二次 <code class="code" id="-i17gp5_33">readline</code> 的内容就是第二行了</p><p id="-i17gp5_28">所以可以通过循环来每次读取一行内容</p><div class="code-block" data-lang="python">
with open(&quot;test.txt&quot;, 'rb') as f:
    for i in range(10):
        line = f.readline()
        print(line)
</div><p id="-i17gp5_30">这里使用for循环输出了文件中的前10行</p></aside></section><section class="chapter"><h2 id="f-readlines" data-toc="f-readlines">f.readlines()</h2><p id="-i17gp5_34">使用 <code class="code" id="-i17gp5_38">f.readlines()</code> 来读取文件内容, 将会返回一个列表, 每一个元素代表文件中的每一行内容</p><div class="code-block" data-lang="python">
with open(&quot;test.txt&quot;, 'rb') as f:
    lines = f.readlines()
    print(lines[0])
</div><p id="-i17gp5_36">这里的 <code class="code" id="-i17gp5_39">lines</code> 代表包含文件 <code class="code" id="-i17gp5_40">test.txt</code> 每一行的列表, 可以通过 <code class="code" id="-i17gp5_41">lines[i]</code> 的方式输出文件的第 <code class="code" id="-i17gp5_42">i+1</code> 行, 这里输出了第一行</p><aside class="prompt" data-type="tip" data-title="" id="-i17gp5_37"><p id="-i17gp5_43">同样的, 由于 <code class="code" id="-i17gp5_46">readlines</code> 返回的是一个列表, 所以同样可以使用for循环遍历文件内容</p><div class="code-block" data-lang="python">
with open(&quot;test.txt&quot;, 'rb') as f:
    lines = f.readlines()
    for i in lines:
        print(i)
</div><p id="-i17gp5_45">这里使用for循环输出了文件 <code class="code" id="-i17gp5_47">test.txt</code> 的每一行内容</p></aside></section><section class="chapter"><h2 id="f-write" data-toc="f-write">f.write()</h2><p id="-i17gp5_48">使用 <code class="code" id="-i17gp5_53">f.write()</code> 将内容写入文件, 返回值是写入字符串的长度</p><div class="code-block" data-lang="python">
with open(&quot;test.txt&quot;, 'wb') as f:
    f.write(&quot;hello world!&quot;)
</div><p id="-i17gp5_50">这里以 <code class="code" id="-i17gp5_54">wb</code> 方式打开文件, 并在其中写入了 <code class="code" id="-i17gp5_55">hello world!</code> 字符串</p><aside class="prompt" data-type="tip" data-title="" id="-i17gp5_51"><p id="-i17gp5_56"><code class="code" id="-i17gp5_58">f.write()</code>可以写的东西还包括读取的文件内容, 也就是上面的 <code class="code" id="-i17gp5_59">content</code>, <code class="code" id="-i17gp5_60">line</code>, <code class="code" id="-i17gp5_61">lines</code>等</p><div class="code-block" data-lang="python">
with open(&quot;read.txt&quot;, 'rb') as r:
    lines = r.readlines()
    with open(&quot;write.txt&quot;, 'wb') as w:
        w.write(lines[2])
</div></aside><p id="-i17gp5_52">这段代码打开了文件 <code class="code" id="-i17gp5_62">read.txt</code>, 读取了 <code class="code" id="-i17gp5_63">lines</code>, 并将第三行内容写入了 <code class="code" id="-i17gp5_64">write.txt</code></p></section><div class="last-modified">Last modified: 14 十月 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="python-open-file.html" class="navigation-links__prev">打开文件</a><a href="python-os-module.html" class="navigation-links__next">OS模块</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b419/app.js"></script></body></html>