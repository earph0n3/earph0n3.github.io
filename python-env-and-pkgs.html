<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2024-10-14T14:13:55.168243611"><title>环境以及包管理 |  earph0n3's doc</title><script type="application/json" id="virtual-toc-data">[{"id":"change-mirror","level":0,"title":"更换国内源","anchor":"#change-mirror"},{"id":"env-op","level":0,"title":"环境操作","anchor":"#env-op"},{"id":"pkg-manager","level":0,"title":"包管理","anchor":"#pkg-manager"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b419/app.css" rel="stylesheet"><link href="static/custom.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="环境以及包管理 |  earph0n3's doc"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content=" earph0n3's doc Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/python-env-and-pkgs.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="环境以及包管理 |  earph0n3's doc"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/python-env-and-pkgs.html#webpage",
    "url": "writerside-documentation/python-env-and-pkgs.html",
    "name": "环境以及包管理 |  earph0n3's doc",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": " earph0n3's doc Help"
}</script><!-- End Schema.org --></head><body data-id="python-env-and-pkgs" data-main-title="环境以及包管理" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="python.md|Python"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3> earph0n3's doc  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="python-env-and-pkgs" id="python-env-and-pkgs.md">环境以及包管理</h1><section class="chapter"><h2 id="change-mirror" data-toc="change-mirror">更换国内源</h2><p id="-b4fbp6_6">由于<code class="code" id="-b4fbp6_10">pip</code>, <code class="code" id="-b4fbp6_11">conda-forge</code>以及<code class="code" id="-b4fbp6_12">anaconda</code>等仓库服务器在国外,导致国内下载模块时速度会很慢,甚至无法下载</p><p id="-b4fbp6_7">一般选择直接将官方的源替换为国内镜像源</p><section class="chapter"><h3 id="pip" data-toc="pip">pip</h3><p id="-b4fbp6_13">以清华源为例,pip更换清华源的命令为:</p><div class="code-block" data-lang="bash">
pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple
</div></section><section class="chapter"><h3 id="conda-mamba" data-toc="conda-mamba">conda和mamba</h3><p id="-b4fbp6_15">修改conda源可以直接对mamba生效</p><p id="-b4fbp6_16">conda的源配置写在文件<code class="code" id="-b4fbp6_27">.condarc</code>中,在不同系统中都存在于用户的根目录下</p><p id="-b4fbp6_17">先执行命令:</p><div class="code-block" data-lang="bash">
conda config --set show_channel_urls yes
</div><p id="-b4fbp6_19">生成该文件后才能编辑</p><p id="-b4fbp6_20">由于编写文档时anaconda清华源失效,改用中科大的镜像源</p><figure id="-b4fbp6_21"><img alt="image-20241012111727305" src="https://s2.loli.net/2024/10/12/ijV9nSloDa27ysG.png" title="image-20241012111727305"></figure><p id="-b4fbp6_22">使用文本编辑器打开<code class="code" id="-b4fbp6_28">.condarc</code>文件,将文件内容替换为:</p><div class="code-block" data-lang="none">
channels:
  - defaults
show_channel_urls: true
default_channels:
  - https://mirrors.ustc.edu.cn/anaconda/pkgs/main
  - https://mirrors.ustc.edu.cn/anaconda/pkgs/r
  - https://mirrors.ustc.edu.cn/anaconda/pkgs/msys2
custom_channels:
  conda-forge: https://mirrors.ustc.edu.cn/anaconda/cloud
  pytorch: https://mirrors.ustc.edu.cn/anaconda/cloud
</div><p id="-b4fbp6_24">保存文件后执行命令并回车:</p><div class="code-block" data-lang="bash">
conda clean -i
mamba clean -i
</div><figure id="-b4fbp6_26"><img alt="image-20241012111739084" src="https://s2.loli.net/2024/10/12/ufv2pRUmezjO49c.png" title="image-20241012111739084"></figure></section></section><section class="chapter"><h2 id="env-op" data-toc="env-op">环境操作</h2><section class="chapter"><h3 id="env-create" data-toc="env-create">创建环境</h3><p id="-b4fbp6_32">使用conda和mamba都能创建环境,但更推荐使用mamba,原因上文写出了,因为mamba的输出信息更多</p><p id="-b4fbp6_33">(除非你能忍受conda的十分钟无进度条纯转圈)</p><p id="-b4fbp6_34">创建环境使用命令:</p><div class="code-block" data-lang="bash">
mamba create -n 环境名称 python=python版本
</div><p id="-b4fbp6_36">比如创建一个名叫test,且python版本为3.10的环境:</p><div class="code-block" data-lang="bash">
mamba create -n test python=3.10
</div><aside class="prompt" data-type="tip" data-title="" id="-b4fbp6_38"><ul class="list _bullet" id="-b4fbp6_39"><li class="list__item" id="-b4fbp6_43"><p id="-b4fbp6_44">使用conda创建时:</p><figure id="-b4fbp6_45"><img alt="image-20241012111746774" src="https://s2.loli.net/2024/10/12/Y6ArcfRyMTwqGkB.png" title="image-20241012111746774"></figure></li></ul><p id="-b4fbp6_40">只有提示没有进度条</p><ul class="list _bullet" id="-b4fbp6_41"><li class="list__item" id="-b4fbp6_46"><p id="-b4fbp6_47">使用mamba创建时:</p><figure id="-b4fbp6_48"><img alt="image-20241012111757302" src="https://s2.loli.net/2024/10/12/oj1X9vLYV7xCAT2.png" title="image-20241012111757302"></figure></li></ul><p id="-b4fbp6_42">有提示有进度条</p></aside></section><section class="chapter"><h3 id="env-list" data-toc="env-list">查看环境</h3><p id="-b4fbp6_49">使用命令:</p><div class="code-block" data-lang="bash">
mamba envs list 
</div><figure id="-b4fbp6_51"><img alt="image-20241012111805176" src="https://s2.loli.net/2024/10/12/J3ZxXWMpU72GFAQ.png" title="image-20241012111805176"></figure></section><section class="chapter"><h3 id="env-del" data-toc="env-del">删除环境</h3><p id="-b4fbp6_52">使用命令:</p><div class="code-block" data-lang="bash">
mamba remove -n test --all
</div><figure id="-b4fbp6_54"><img alt="image-20241012111814021" src="https://s2.loli.net/2024/10/12/s9Y8WLNBQc1tkJw.png" title="image-20241012111814021"></figure></section></section><section class="chapter"><h2 id="pkg-manager" data-toc="pkg-manager">包管理</h2><p id="-b4fbp6_55">软件包的管理比较简单,对软件包的命令pip,conda和mamba通用(以mamba为例)</p><div class="table-wrapper"><table class="wide" id="-b4fbp6_56"><thead><tr class="ijRowHead" id="-b4fbp6_58"><th id="-b4fbp6_66"><p>命令</p></th><th id="-b4fbp6_67"><p>作用</p></th></tr></thead><tbody><tr id="-b4fbp6_59"><td id="-b4fbp6_68"><p>mamba install 软件包名</p></td><td id="-b4fbp6_69"><p>安装软件包(版本默认为最新)</p></td></tr><tr id="-b4fbp6_60"><td id="-b4fbp6_70"><p>mamba install 软件包名=版本号</p></td><td id="-b4fbp6_71"><p>安装特定版本的软件包</p></td></tr><tr id="-b4fbp6_61"><td id="-b4fbp6_72"><p>mamba list 软件包名</p></td><td id="-b4fbp6_73"><p>查看特定软件包信息</p></td></tr><tr id="-b4fbp6_62"><td id="-b4fbp6_74"><p>mamba list</p></td><td id="-b4fbp6_75"><p>列出所有安装的软件包信息</p></td></tr><tr id="-b4fbp6_63"><td id="-b4fbp6_76"><p>mamba remove/uninstall 软件包名</p></td><td id="-b4fbp6_77"><p>删除软件包</p></td></tr><tr id="-b4fbp6_64"><td id="-b4fbp6_78"><p>mamba search 软件包名</p></td><td id="-b4fbp6_79"><p>在源中搜索软件包</p></td></tr><tr id="-b4fbp6_65"><td id="-b4fbp6_80"><p>mamba update 软件包名</p></td><td id="-b4fbp6_81"><p>更新软件包</p></td></tr></tbody></table></div><aside class="prompt" data-type="tip" data-title="" id="-b4fbp6_57"><p id="-b4fbp6_82">关于删除软件包,如果使用pip,只能使用<code class="code" id="-b4fbp6_83">pip uninstall</code>而没有<code class="code" id="-b4fbp6_84">pip remove</code></p></aside></section><div class="last-modified">Last modified: 14 十月 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="python-choose-install.html" class="navigation-links__prev">python发行版选择与安装</a><a href="python-basic.html" class="navigation-links__next">python基础</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b419/app.js"></script></body></html>