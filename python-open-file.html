<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2024-11-04T18:33:26.7581833"><title>打开文件 |  earph0n3's doc</title><script type="application/json" id="virtual-toc-data">[{"id":"python-file-op-mode","level":0,"title":"打开模式","anchor":"#python-file-op-mode"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b419/app.css" rel="stylesheet"><link href="static/custom.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="打开文件 |  earph0n3's doc"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content=" earph0n3's doc Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/python-open-file.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="打开文件 |  earph0n3's doc"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/python-open-file.html#webpage",
    "url": "writerside-documentation/python-open-file.html",
    "name": "打开文件 |  earph0n3's doc",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": " earph0n3's doc Help"
}</script><!-- End Schema.org --></head><body data-id="python-open-file" data-main-title="打开文件" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="python.md|Python///python-basic.md|python基础///python-file-op.md|文件操作"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3> earph0n3's doc  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="python-open-file" id="python-open-file.md">打开文件</h1><p id="be1wod_3">python内置的<code class="code" id="be1wod_11">open()</code>方法可以打开文件,并返回一个文件对象,比如:</p><div class="code-block" data-lang="python">
open('test.png', 'rb')
</div><p id="be1wod_5">这样就打开了一个文件,并且返回值是一个文件对象, 单独这样是不够的, 如果需要对文件进行操作, 就需要用到返回的那个文件对象, 语句就需要改成:</p><div class="code-block" data-lang="python">
f = open('test.png', 'rb')
后续使用f对文件进行操作

# 或者
open('test.png', 'rb') as f:
    # 对文件对象的操作 
    ...
</div><p id="be1wod_7">需要注意的是, 每次<code class="code" id="be1wod_12">open</code>之后都会占用一些资源, 所以在对文件对象操作完成后一般需要关闭文件, 也就是:</p><div class="code-block" data-lang="python">
# 关闭文件对象
f.close()
</div><aside class="prompt" data-type="tip" data-title="" id="be1wod_9"><p id="be1wod_13">每次打开文件后都需要手动关闭很麻烦, 同时还经常容易忘记, 所以python中有更方便的方法: 使用<code class="code" id="be1wod_16">with open() as f</code>:</p><div class="code-block" data-lang="python">
with open(file, 'rb') as f:
    # 对f的操作
    ...
</div><p id="be1wod_15">使用with open的好处是f只在<code class="code" id="be1wod_17">with</code>下生效, 在with结束后f会被自动释放, 所以一般打开文件都用这种方式</p></aside><section class="chapter"><h2 id="python-file-op-mode" data-toc="python-file-op-mode">打开模式</h2><p id="be1wod_18"><code class="code" id="be1wod_26">open()</code>方法有很多参数, 完整的形式为:</p><div class="code-block" data-lang="python">
open(file, mode='r', buffering=-1, encoding=None, errors=None, newline=None, closefd=True, opener=None)
</div><p id="be1wod_20">参数有很多, 但是常用的一般是三个:</p><div class="code-block" data-lang="python">
open(file, mode='r', encoding='utf-8')
</div><p id="be1wod_22">其中<code class="code" id="be1wod_27">file</code>参数是文件路径, <code class="code" id="be1wod_28">mode</code>参数是打开的模式, <code class="code" id="be1wod_29">encoding</code>参数指定文件的编码</p><p id="be1wod_23">mode参数有很多选择:</p><div class="table-wrapper"><table class="wide" id="be1wod_24"><thead><tr class="ijRowHead" id="be1wod_30"><th id="be1wod_48"><p>模式</p></th><th id="be1wod_49"><p>描述</p></th></tr></thead><tbody><tr id="be1wod_31"><td id="be1wod_50"><p>t</p></td><td id="be1wod_51"><p>文本模式 (默认)。</p></td></tr><tr id="be1wod_32"><td id="be1wod_52"><p>x</p></td><td id="be1wod_53"><p>写模式，新建一个文件，如果该文件已存在则会报错。</p></td></tr><tr id="be1wod_33"><td id="be1wod_54"><p>b</p></td><td id="be1wod_55"><p>二进制模式。</p></td></tr><tr id="be1wod_34"><td id="be1wod_56"><p>+</p></td><td id="be1wod_57"><p>打开一个文件进行更新(可读可写)。</p></td></tr><tr id="be1wod_35"><td id="be1wod_58"><p>U</p></td><td id="be1wod_59"><p>通用换行模式（<span class="control" id="be1wod_60">Python 3 不支持</span>）。</p></td></tr><tr id="be1wod_36"><td id="be1wod_61"><p>r</p></td><td id="be1wod_62"><p>以只读方式打开文件。文件的指针将会放在文件的开头。这是默认模式。</p></td></tr><tr id="be1wod_37"><td id="be1wod_63"><p>rb</p></td><td id="be1wod_64"><p>以二进制格式打开一个文件用于只读。文件指针将会放在文件的开头。这是默认模式。一般用于非文本文件如图片等。</p></td></tr><tr id="be1wod_38"><td id="be1wod_65"><p>r+</p></td><td id="be1wod_66"><p>打开一个文件用于读写。文件指针将会放在文件的开头。</p></td></tr><tr id="be1wod_39"><td id="be1wod_67"><p>rb+</p></td><td id="be1wod_68"><p>以二进制格式打开一个文件用于读写。文件指针将会放在文件的开头。一般用于非文本文件如图片等。</p></td></tr><tr id="be1wod_40"><td id="be1wod_69"><p>w</p></td><td id="be1wod_70"><p>打开一个文件只用于写入。如果该文件已存在则打开文件，并从开头开始编辑，即原有内容会被删除。如果该文件不存在，创建新文件。</p></td></tr><tr id="be1wod_41"><td id="be1wod_71"><p>wb</p></td><td id="be1wod_72"><p>以二进制格式打开一个文件只用于写入。如果该文件已存在则打开文件，并从开头开始编辑，即原有内容会被删除。如果该文件不存在，创建新文件。一般用于非文本文件如图片等。</p></td></tr><tr id="be1wod_42"><td id="be1wod_73"><p>w+</p></td><td id="be1wod_74"><p>打开一个文件用于读写。如果该文件已存在则打开文件，并从开头开始编辑，即原有内容会被删除。如果该文件不存在，创建新文件。</p></td></tr><tr id="be1wod_43"><td id="be1wod_75"><p>wb+</p></td><td id="be1wod_76"><p>以二进制格式打开一个文件用于读写。如果该文件已存在则打开文件，并从开头开始编辑，即原有内容会被删除。如果该文件不存在，创建新文件。一般用于非文本文件如图片等。</p></td></tr><tr id="be1wod_44"><td id="be1wod_77"><p>a</p></td><td id="be1wod_78"><p>打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。也就是说，新的内容将会被写入到已有内容之后。如果该文件不存在，创建新文件进行写入。</p></td></tr><tr id="be1wod_45"><td id="be1wod_79"><p>ab</p></td><td id="be1wod_80"><p>以二进制格式打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。也就是说，新的内容将会被写入到已有内容之后。如果该文件不存在，创建新文件进行写入。</p></td></tr><tr id="be1wod_46"><td id="be1wod_81"><p>a+</p></td><td id="be1wod_82"><p>打开一个文件用于读写。如果该文件已存在，文件指针将会放在文件的结尾。文件打开时会是追加模式。如果该文件不存在，创建新文件用于读写。</p></td></tr><tr id="be1wod_47"><td id="be1wod_83"><p>ab+</p></td><td id="be1wod_84"><p>以二进制格式打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。如果该文件不存在，创建新文件用于读写。</p></td></tr></tbody></table></div><p id="be1wod_25">一般常用的模式是 <code class="code" id="be1wod_85">r</code> 或 <code class="code" id="be1wod_86">rb</code>, 如果不指定, 则默认是<code class="code" id="be1wod_87">t</code>模式</p></section><div class="last-modified">Last modified: 04 十一月 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="python-file-op.html" class="navigation-links__prev">文件操作</a><a href="python-file-object.html" class="navigation-links__next">文件对象</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b419/app.js"></script></body></html>